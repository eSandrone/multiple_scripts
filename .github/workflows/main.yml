name: Time
on:
  workflow_dispatch:
jobs:
  job_1:
    runs-on: ubuntu-latest
    name: JOB_1
    outputs:
     #time: ${{ steps.time.outputs.st }}
     gj: ${{ steps.time.outputs.gj }}
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Execute scripts and kill process if necessary
        id: time
        run: |
          echo ${{ github.job }} 
          #$time = [Math]::Round((Get-Date).ToFileTime()/10000)
          #echo "::set-output name=st::$time"
          echo "::set-output name=gj::${{ github.job }}"
          #echo "st=$time" >> $env:GITHUB_OUTPUT
  job_2:
    runs-on: ubuntu-latest
    needs: job_1
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Execute scripts and kill process if necessary
        id: time
        run: |
          curl -L \
          -H "Accept: application/vnd.github+json" \
          -H "Authorization: Bearer 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"\
          --url https://api.github.com/repos/eSandrone/multiple_scripts/actions/runs/${{ needs.job_1.outputs.gj }}/logs
          ls
          echo ${{ github.run_id }}
          #echo ${{ needs.job_1.outputs.time }}[1]

#   job_2:
#     runs-on: ubuntu-latest
#     needs: job_1
#     outputs:
#      time: ${{ steps.time.outputs.st }}
#     steps:
#       - name: Checkout
#         uses: actions/checkout@v3

#       - name: Execute scripts and kill process if necessary
#         id: time
#         run: |
#           sleep 10
#           echo ${{ needs.job_1.outputs.time }}
#           echo "st=${{ needs.job_1.outputs.time }}" >> $GITHUB_OUTPUT
#   job_3:
#     runs-on: ubuntu-latest
#     needs: job_2
#     outputs:
#      time: ${{ steps.time.outputs.time }}
#     steps:
#       - name: Checkout
#         uses: actions/checkout@v3

#       - name: Execute scripts and kill process if necessary
#         id: time
#         run: |
#           echo $(date +"%s")-${{ needs.job_2.outputs.time }}
